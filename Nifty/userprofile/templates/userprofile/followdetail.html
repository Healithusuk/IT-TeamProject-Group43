{% extends "base.html" %}
{% load static %}
<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        {% block title %}Nifty-Profile{% endblock %}
        <link rel="icon" href="{% static 'index/images/logo.png' %}" type="image/x-icon">
        <!-- Use Bootstrap -->
        <link href="{% static 'bootstrap/css/bootstrap.min.css' %}" rel="stylesheet" type="text/css">
        <!-- Use Custom css style -->
        {% block extra_css %}
          <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600&display=swap" rel="stylesheet">
          <link rel="stylesheet" href="{% static 'css/followdetail.css' %}" type="text/css">
          <link href="https://fonts.googleapis.com/css2?family=Rakkas&display=swap" rel="stylesheet">
          <link href="https://fonts.googleapis.com/css2?family=Dosis:wght@400;500;600&display=swap" rel="stylesheet">
          <link rel="stylesheet" href="{% static 'index/css/star-rating.min.css' %}" media="all" type="text/css"/>
          <link rel="stylesheet" href="{% static 'index/themes/krajee-fa/theme.css' %}" media="all" type="text/css"/>
          <link rel="stylesheet" href="{% static 'index/themes/krajee-svg/theme.css' %}" media="all" type="text/css"/>
          <link rel="stylesheet" href="{% static 'index/themes/krajee-uni/theme.css' %}" media="all" type="text/css"/>
        {% endblock %}
    </head>
    <body>
        {% block content %}
        <div class="container-fluid title-main">
            <div class="container search-counts fw-bold">
                <span class="title-words">NIFTY FANS</span>
            </div>
        </div>
        <div class="container">
            <div class="row main-page">
              <!-- 左侧：关注的用户 (Following) -->
              <div class="col-md-6 border-end border-secondary pe-3">
                <h3 class="section-title">Following</h3> 
                <!-- 搜索框 -->
                <div class="mb-3 input-group flex-nowrap input-group-custom">
                  <span class="input-group-text" id="addon-wrapping">🔎</span>
                  <input type="text" id="searchInput-following" class="form-control text-center" placeholder="Following User">
                </div>
                <div class="scrollable-users">
                  {% if following_users %}
                    {% for following_user in following_users %}
                      <a href="{% url 'profile' following_user.id %}" class="text-decoration-none text-reset">
                        <div class="user-card">
                          <img src="{{ following_user.avatar.url }}" alt="{{ following_user.username }}" class="rounded-circle">
                          <div>
                            <strong>{{ following_user.username }}</strong>
                          </div>
                        </div>
                      </a>
                    {% endfor %}
                  {% else %}
                    <p>No following users.</p>
                  {% endif %}
                </div>
              </div>
              
              <div class="col-md-6 ps-3">
                <h3 class="section-title">Followers</h3>
                <!-- 搜索框 -->
                <div class="mb-3 input-group flex-nowrap input-group-custom">
                  <span class="input-group-text" id="addon-wrapping">🔎</span>
                  <input type="text" id="searchInput-followers" class="form-control text-center" placeholder="Follower User">
                </div>
                <div class="scrollable-users">
                  {% if follower_users %}
                    {% for follower_user in follower_users %}
                      <a href="{% url 'profile' follower_user.id %}" class="text-decoration-none text-reset">
                        <div class="user-card">
                          <img src="{{ follower_user.avatar.url }}" alt="{{ follower_user.username }}" class="rounded-circle">
                          <div>
                            <strong>{{ follower_user.username }}</strong>
                          </div>
                        </div>
                      </a>
                    {% endfor %}
                  {% else %}
                    <p>No followers.</p>
                  {% endif %}
                </div>
              </div>
            </div>
          </div>
          
          
        
        
        
        {% endblock %}
      
        
        <!-- Use Bootstrap -->
        <script src="{% static 'bootstrap/js/bootstrap.bundle.min.js' %}"></script>
        <!-- Use Custom js -->
        {% block extra_js %}
            <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
            <script src="{% static 'js/followdetail.js' %}"></script>
            <script src="{% static 'index/js/star-rating.min.js' %}"></script>
            <script src="{% static 'index/themes/krajee-fa/theme.js' %}" type="text/javascript"></script>
            <script src="{% static 'index/themes/krajee-svg/theme.js' %}" type="text/javascript"></script>
            <script src="{% static 'index/themes/krajee-gly/theme.js' %}" type="text/javascript"></script>
            <script src="{% static 'index/themes/krajee-uni/theme.js' %}" type="text/javascript"></script>
        {% endblock %}
    </body>
</html>

